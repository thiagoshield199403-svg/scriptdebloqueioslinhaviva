<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>SCRIPT DE BLOQUEIOS PARA LV</title>

<style>
body {
    font-family: Arial, sans-serif;
    background:
      linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)),
      url("fundo.jpg");
    background-size: cover;
    background-attachment: fixed;
    padding: 20px;
    margin: 0;
}

/* ===== MENSAGEM TOPO ===== */
#toast {
    position: fixed;
    top: 15px;
    left: 50%;
    transform: translateX(-50%);
    background: #2e7d32;
    color: #fff;
    padding: 10px 22px;
    border-radius: 8px;
    font-weight: bold;
    display: none;
    z-index: 9999;
}

/* ===== ABAS ===== */
.tabs {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 20px;
}
.tab-btn {
    padding: 10px 22px;
    border: none;
    cursor: pointer;
    font-weight: bold;
    background: #ccc;
    border-radius: 6px;
}
.tab-btn.active {
    background: #0b5394;
    color: #fff;
}
.tab-content {
    display: none;
}
.tab-content.active {
    display: block;
}

/* ===== CONTAINER ===== */
.container {
    background: rgba(255,255,255,0.9);
    padding: 20px;
    max-width: 760px;
    margin: auto;
    border-radius: 14px;
}

h2 {
    text-align: center;
    color: #0b5394;
}

label {
    font-weight: bold;
    display: block;
    margin-top: 10px;
}

input, select, textarea, button {
    width: 100%;
    padding: 7px;
    margin-top: 4px;
}

textarea {
    height: 90px;
}

#historico {
    height: 270px;
}

/* ===== GRID ===== */
.linha-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}
.linha-3 {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 10px;
}

/* ===== CALLBACK ===== */
.opcoes {
    display: flex;
    gap: 10px;
    margin-top: 5px;
}
.opcoes input {
    display: none;
}
.card {
    border: 2px solid #ccc;
    padding: 8px 14px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
}
.opcoes input:checked + .card {
    background: #0b5394;
    color: #fff;
}

/* ===== BOT√ïES ===== */
button {
    margin-top: 10px;
    background: #0b5394;
    color: #fff;
    border: none;
    border-radius: 5px;
    font-weight: bold;
    cursor: pointer;
}
button.secundario {
    background: #777;
}
</style>
</head>

<body>

<div id="toast">Texto copiado com sucesso!</div>

<div class="tabs">
  <button class="tab-btn active" onclick="openTab('obs',this)">üìù OCORR√äNCIAS / HIST√ìRICO</button>
  <button class="tab-btn" onclick="openTab('rel',this)">üìã BLOQUEIO ‚Äì LINHA VIVA</button>
  <button class="tab-btn" onclick="openTab('callback',this)">üìû CALLBACK</button>
</div>

<!-- ============ OCORR√äNCIAS ============ -->
<div id="obs" class="tab-content active">
<div class="container">
<h2>OCORR√äNCIAS</h2>

<label>Nova ocorr√™ncia</label>
<textarea id="obsTexto"></textarea>

<button onclick="adicionarHistorico()">Adicionar</button>
<button class="secundario" onclick="copiarHistorico()">Copiar Hist√≥rico</button>
<button class="secundario" onclick="limparHistorico()">Limpar</button>

<label>Hist√≥rico de ocorr√™ncias</label>
<textarea id="historico" readonly></textarea>
</div>
</div>

<!-- ============ BLOQUEIO LV ============ -->
<div id="rel" class="tab-content">
<div class="container">
<h2>SCRIPT DE BLOQUEIO PARA EQUIPES LINHA VIVA</h2>

<div class="linha-2">
<div><label>Respons√°vel</label><input id="responsavel"></div>
<div><label>Equipe</label><input id="equipe"></div>
</div>

<div class="linha-3">
<div><label>Contato</label><input id="contato"></div>
<div><label>Viatura</label><input id="viatura"></div>
<div><label>R√°dio</label><select id="radio"><option>Sim</option><option>N√£o</option></select></div>
</div>

<div class="linha-3">
<div><label>Teste de R√°dio</label><select id="testeRadio"><option>Sim</option><option>N√£o</option></select></div>
<div><label>Self-healing</label><select id="selfhealing"><option>Sim</option><option>N√£o</option></select></div>
<div><label>Desativou SH</label><select id="desativou"><option>Sim</option><option>N√£o</option></select></div>
</div>

<div class="linha-2">
<div><label>Refer√™ncia El√©trica</label><input id="referencia"></div>
<div><label>Servi√ßo</label><input id="servico"></div>
</div>

<label>Observa√ß√£o</label>
<textarea id="obsRel"></textarea>

<button onclick="gerarRelatorio()">Gerar e Copiar</button>
<button class="secundario" onclick="limparRelatorio()">Limpar</button>

<label>Relat√≥rio Gerado</label>
<textarea id="resultado" readonly></textarea>
</div>
</div>

<!-- ============ CALLBACK ============ -->
<div id="callback" class="tab-content">
<div class="container">
<h2>CALLBACK</h2>

<label>Data / Hora</label>
<input id="dataHora" readonly>

<div class="linha-3">
<div><label>Operador</label><input id="operador"></div>
<div><label>Telefone</label><input id="telefone"></div>
<div><label>Ramal</label><input id="ramal"></div>
</div>

<label>Atua√ß√£o realizada via</label>
<div class="opcoes">
<input type="radio" name="atuacao" id="celular">
<label for="celular" class="card">Celular</label>

<input type="radio" name="atuacao" id="ramalRadio">
<label for="ramalRadio" class="card">Ramal</label>
</div>

<div class="linha-2">
<div><label>CL Reincidente</label><select id="reincidente"><option>N√£o</option><option>Sim</option></select></div>
<div><label>Como foi a liga√ß√£o?</label>
<select id="ligacao">
<option>Liga√ß√£o com sucesso</option>
<option>Caixa postal</option>
<option>N√£o chama</option>
<option>Telefone incorreto</option>
<option>Cliente desligou</option>
<option>Telefone n√£o cadastrado</option>
<option>Outros</option>
</select>
</div>
</div>

<div class="linha-3">
<div><label>Situa√ß√£o</label><select id="situacao"><option>Isolada</option><option>Coletiva</option></select></div>
<div><label>CJ Cr√≠tico?</label><select id="cj"><option>N√£o</option><option>Sim</option></select></div>
<div><label>Risco de Vida?</label><select id="risco"><option>N√£o</option><option>Sim</option></select></div>
</div>

<label>Observa√ß√µes</label>
<textarea id="observacoes"></textarea>

<button onclick="gerarTexto()">Gerar Texto Ocorr√™ncia</button>
<button class="secundario" onclick="limparCallback()">Limpar</button>

<label>Texto Gerado</label>
<textarea id="resultadoCallback" readonly></textarea>
</div>
</div>

<script>
function showToast(msg){
 const t=document.getElementById("toast");
 t.innerText=msg;
 t.style.display="block";
 setTimeout(()=>t.style.display="none",2000);
}

function openTab(id,btn){
 document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
 document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
 document.getElementById(id).classList.add('active');
 btn.classList.add('active');
}

/* OCORR√äNCIAS */
function horaAtual(){
 return new Date().toLocaleTimeString('pt-BR',{hour:'2-digit',minute:'2-digit'})+'H';
}
function adicionarHistorico(){
 if(!obsTexto.value.trim()) return;
 historico.value+=(historico.value?"\n":"")+"# "+horaAtual()+" "+obsTexto.value;
 obsTexto.value="";
}
function copiarHistorico(){
 navigator.clipboard.writeText(historico.value);
 showToast("Hist√≥rico copiado com sucesso!");
}
function limparHistorico(){
 historico.value="";
 obsTexto.value="";
}

/* RELAT√ìRIO */
function gerarRelatorio(){
 const t=`Data/Hora: ${new Date().toLocaleString("pt-BR")}
Respons√°vel: ${responsavel.value}
Equipe: ${equipe.value}
Contato: ${contato.value}
Viatura: ${viatura.value}
R√°dio: ${radio.value}
Teste R√°dio: ${testeRadio.value}
Self-healing: ${selfhealing.value}
Desativou SH: ${desativou.value}
Refer√™ncia: ${referencia.value}
Servi√ßo: ${servico.value}
Observa√ß√£o: ${obsRel.value||"Sem observa√ß√µes"}`;
 resultado.value=t;
 navigator.clipboard.writeText(t);
 showToast("Relat√≥rio copiado com sucesso!");
}
function limparRelatorio(){
 document.querySelectorAll('#rel input,#rel textarea').forEach(e=>e.value="");
}

/* CALLBACK */
function atualizarDataHora(){
 dataHora.value=new Date().toLocaleString("pt-BR");
}
atualizarDataHora();

function gerarTexto(){
 atualizarDataHora();
 const atuacao = celular.checked ? telefone.value : ramal.value;
 const t=`Data/Hora: ${dataHora.value} # Operador: ${operador.value} # Atua√ß√£o: ${atuacao} # CL Reincidente: ${reincidente.value} # Liga√ß√£o: ${ligacao.value} # Situa√ß√£o: ${situacao.value} # CJ Cr√≠tico: ${cj.value} # Risco de Vida: ${risco.value} # Observa√ß√µes: ${observacoes.value||"Sem observa√ß√µes"}`;
 resultadoCallback.value=t;
 navigator.clipboard.writeText(t);
 showToast("Texto de callback copiado!");
}
function limparCallback(){
 document.querySelectorAll('#callback input,#callback textarea').forEach(e=>e.value="");
 document.querySelectorAll('#callback select').forEach(e=>e.selectedIndex=0);
 atualizarDataHora();
}
</script>

</body>
</html>
